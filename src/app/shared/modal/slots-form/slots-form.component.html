<div class="card">
    <div class="card-header">{{inputValue}} Slots</div>
    <div class="card-body p-4">
        <form [formGroup]="slotForm" (ngSubmit)="updateValue? update() : submit()">
            <div class="row p-1">
                <div class="col-md-12">
                    <mat-form-field class="example-full-width">
                        <mat-label>Doctor</mat-label>
                        <mat-select formControlName="slotDoctorId" appearance="fill" required>
                            <mat-option *ngFor="let item of doctors" [value]="item.doctorId">
                                {{item.doctorName}}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="slotForm.controls['slotDoctorId'].hasError('required') && slotForm.controls['slotDoctorId'].touched">
                            Doctor is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row p-1">
                <div class="col-md-12">
                    <mat-form-field class="example-full-width">
                        <mat-label>Day</mat-label>
                        <mat-select formControlName="slotDay" appearance="fill" required>
                            <mat-option *ngFor="let item of Days" [value]="item.name">
                                {{item.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="slotForm.controls['slotDay'].hasError('required') && slotForm.controls['slotDay'].touched">
                            Day is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row p-1">
                <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                        <mat-label>Start Time</mat-label>
                        <input matInput type="time" placeholder="11:00 AM" formControlName="slotStartTime"
                            name="startTime" required>
                        <mat-error
                            *ngIf="slotForm.controls['slotStartTime'].hasError('required') && slotForm.controls['slotStartTime'].touched">
                            Start Time is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-md-6">
                    <mat-form-field class="example-full-width">
                        <mat-label>End Time</mat-label>
                        <input matInput type="time" placeholder="11:00 AM" formControlName="slotEndTime" name="endTime"
                            required>
                        <mat-error
                            *ngIf="slotForm.controls['slotEndTime'].hasError('required') && slotForm.controls['slotEndTime'].touched">
                            End Time is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row p-1">
                <div class="col-md-12">
                    <mat-form-field class="example-full-width">
                        <mat-label>Slot Count</mat-label>
                        <input matInput type="number" placeholder="10" formControlName="slotCount" name="count"
                            required>
                        <mat-error
                            *ngIf="slotForm.controls['slotCount'].hasError('required') && slotForm.controls['slotCount'].touched">
                            Slot Count is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <button class="add-btn-submit" type="submit" [disabled]="loading || slotForm.invalid">

                <ng-container *ngIf=" loading">
                    <span class="spinner-border spinner-border-sm me-2" role="status " aria-hidden="true"></span>
                </ng-container>
                <span class=" fw-600" [innerText]="loading ? 'Submitting' : 'Submit'">Submit</span>
            </button>

        </form>
        <button class="close-btn" (click)="close()" type="close">
            <span class=" fw-600">Close</span>
        </button>
    </div>
</div>