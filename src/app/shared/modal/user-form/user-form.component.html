<div class="card" [ngClass]="{'card-update': updateValue}">
    <div class="card-header">{{inputValue}} User</div>
    <div class="card-body p-4">
        <form [formGroup]="userForm">
            <div class="mhs">
                <img class="" src="{{image? image: '../../../assets/images/icons8-plus-64.png'}}" alt=""
                    (click)="getFile()">
                <input class="mt-2" type="file" hero nbInput name="file1" id="userimage" accept="image/*"
                    (change)="InputImage($event)" hidden required />
            </div>

            <label class="mhs">User Profile Picture</label>
          
            <div class="row p-1">
                <div class="col-md-12">
                    <mat-form-field class="example-full-width">
                        <mat-label>Name</mat-label>
                        <input matInput placeholder="John" formControlName="name" name="firstname" required>
                        <mat-error *ngIf="userForm.controls['name'].invalid && userForm.controls['name'].touched">
                            Name is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-md-12" *ngIf="!updateValue">
                  
                </div>
              
            </div>
           

            <div class="row p-1" >
                <div class="col-md-12">
                    <mat-form-field class=" example-full-width">
                        <mat-label>Email</mat-label>
                        <input matInput autocomplete="current-password webauthn"
                            [pattern]="'[^@ \t\r\n]+@[^@ . \t\r\n]+\.[^@. \t\r\n][^@ \t\r\n]+'"
                            placeholder="john@gmail.com" name="emailnew" formControlName="email" required>
                        <mat-error
                            *ngIf="userForm.controls['email'].hasError('required') && userForm.controls['email'].touched">
                            Email is required
                        </mat-error>
                        <mat-error
                            *ngIf="userForm.controls['email'].hasError('pattern') && userForm.controls['email'].touched">
                            Email is invalid
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row p-1">
                <div class="col-md-12" >
                    <mat-form-field class="example-full-width" >
                        <mat-label>Password</mat-label>
                        <input matInput type="password" placeholder="something" name="passwordnwe"
                            formControlName="password" required>
                        <mat-error
                            *ngIf="userForm.controls['password'].hasError('required') && userForm.controls['password'].touched">
                            Password is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row p-1">

                <div class="col-md-12">
                    <mat-form-field class="example-full-width">
                        <mat-label>Contact</mat-label>
                        <input matInput [pattern]="'([0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9])'"
                            placeholder="0213123123" formControlName="contact" name="contact" required>
                        <mat-error
                            *ngIf="userForm.controls['contact'].hasError('required') && userForm.controls['contact'].touched">
                            Contact is required
                        </mat-error>
                        <mat-error
                            *ngIf="userForm.controls['contact'].hasError('pattern') && userForm.controls['contact'].touched">
                            Contact is invalid
                        </mat-error>
                    </mat-form-field>
                </div>
              
                <div class="col-md-4" >

                    <mat-form-field class="example-full-width">
                        <mat-label>UserRole</mat-label>
                       
                        <mat-select formControlName="userRole" appearance="fill" required>
                            <mat-option *ngFor="let item of userRole" [value]="item.roleId">
                               
                                {{item.roleName}}

                
                            </mat-option>
                            
                          
                        </mat-select>
                        <mat-error
                            *ngIf="userForm.controls['userRole'].hasError('required') && userForm.controls['userRole'].touched">
                            userRole is required
                        </mat-error>
                    </mat-form-field>
                </div>  

                <div>
                    <mat-form-field class="example-full-width" *ngIf="!updateValue">
                        <mat-label>City</mat-label>
                        <mat-select formControlName="city" appearance="fill" required>
                            <mat-option *ngFor="let item of city" [value]="item.id">
                                {{item.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="userForm.controls['city'].hasError('required') && userForm.controls['city'].touched">
                            City is required
                        </mat-error>
                    </mat-form-field>
                </div>
                  
                </div>
          
            <div class="d-flex flex-reverse justify-content-end">


                <button class="close-btn" (click)="close()" type="close">
                    <span class=" fw-600">Close</span>
                </button>
                <button class="add-btn-submit" type="submit" (click)="updateValue? update() : submit()"
                    [disabled]="loading ">

                    <ng-container *ngIf=" loading">
                        <span class="spinner-border spinner-border-sm me-2" role="status " aria-hidden="true"></span>
                    </ng-container>
                    <span class=" fw-600" [innerText]="loading ? 'Submitting' : 'Submit'">Submit</span>
                </button>

            </div>


        </form>
    </div>
</div>
